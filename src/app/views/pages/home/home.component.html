<div class="flex-nowrap mx-0 row align-items-center justify-content-between">
  <h1 class="w-auto">All Products</h1>
  <span class="cart" (click)="veiwCart()">
    <span class="cartCout">{{productsInCart ? productsInCart.length : 0}}</span>
    <!-- <img src="assets/images/cartIcon.png" alt=""> -->
  </span>
</div>
<hr class="mt-0">
<div class="row row-cols-1 row-cols-lg-2 row-cols-xl-3 mx-0">
  <div class="col p-3 " *ngFor="let product of products">

    <p-card [header]="product.title" [subheader]="product.category" [style]="{width: '100%'}"
      styleClass="shadow-2 h-100">
      <ng-template pTemplate="header">
        <img alt="Card" class="imgCard" [src]="product.image">
      </ng-template>

      <p class="pCard">
        {{ product.description }}
      </p>
      <div class="row mx-0">
        <span class="bg-info rounded-pill text-white w-auto">Price : {{product.price}} $</span>
      </div>

      <div class="row mx-0 mt-3">
        <p-rating [ngModel]="product.rating.rate" [readonly]="true" [stars]="5" class="w-auto"
          [cancel]="false"></p-rating>({{product.rating.count}} verified ratings)
      </div>

      <ng-template pTemplate="footer">
        <button type="button" class="btn btn-main w-100 rounded-pill" (click)="AddToCart(product)">Buy Now</button>
      </ng-template>
    </p-card>
  </div>
</div>


<p-dialog [(visible)]="showDetails" [modal]="true" [style]="{maxWidth:'85%'}" header="My Cart">
  <span class="ms-auto clearCart">Clear Cart</span>

  <p-table [value]="productsInCart">
    <ng-template pTemplate="header">
      <tr>
        <th>Name</th>
        <th>Price</th>
        <th>Category</th>
        <th>Reviews</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-product>
      <tr>
        <td>{{product.title}}</td>
        <td>{{product.price | currency:'USD'}}</td>
        <td>{{product.category}}</td>
        <td><p-rating [ngModel]="product.rating" [readonly]="true" [cancel]="false"></p-rating></td>
      </tr>
    </ng-template>
    <ng-template pTemplate="summary">
      <div class="alert alert-danger" *ngIf="productsInCart.length < 1">
        There are no products
      </div>
      <div class="p-d-flex p-ai-center p-jc-between" *ngIf="productsInCart.length > 0">
        In total there are {{productsInCart ? productsInCart.length : 0 }} products.
      </div>
    </ng-template>
  </p-table>










</p-dialog>